---
import AwardsItem from "../parts/AwardsItem.astro";
import Summary from "../parts/Summary.astro";

const awards_pc = [
  {
    id: 1,
    slug: 'cannes',
    name: 'CANNES',
    pic: 'awd_cannes.png',
    caption: 'Gold',
  },
  {
    id: 2,
    slug: 'oneshow',
    name: 'THE ONE SHOW',
    pic: 'awd_oneshow.png',
    caption: 'Gold',
  },
  {
    id: 3,
    slug: 'clio',
    name: 'THE CLIO AWARDS',
    pic: 'awd_clio.png',
    caption: 'Grand Prix',
  },
  {
    id: 4,
    slug: 'dad',
    name: 'D&AD',
    pic: 'awd_dad.png',
    caption: 'Yellow Pencil',
  },
  {
    id: 5,
    slug: 'ny_festival',
    name: 'NEWYORK FESTIVALS',
    pic: 'awd_ny_festival.png',
    caption: 'BEST of SHOW',
  },
  {
    id: 6,
    slug: 'lia',
    name: 'Lia',
    pic: 'awd_lia.png',
    caption: 'Silver',
  },
  {
    id: 7,
    slug: 'spikes',
    name: 'Spikes Asia',
    pic: 'awd_spikes.png',
    caption: 'Gold',
  },
  {
    id: 8,
    slug: 'adfest',
    name: 'ADFEST',
    pic: 'awd_adfest.png',
    caption: 'Silver',
  },
  {
    id: 9,
    slug: 'oneasia',
    name: 'ONE ASIA',
    pic: 'awd_oneasia.png',
    caption: 'Grand prix',
  },
  {
    id: 10,
    slug: 'mad',
    name: 'MAD STARS',
    pic: 'awd_mad.png',
    caption: 'Silver',
  },
  {
    id: 11,
    slug: 'acc',
    name: 'ACC',
    pic: 'awd_acc.png',
    caption: 'Gold',
  },
  {
    id: 12,
    slug: 'webby',
    name: 'THE WEBBY AWARDS',
    pic: 'awd_webby.png',
    caption: 'Nominated × 3',
  },
  {
    id: 13,
    slug: 'fwa',
    name: 'FWA',
    pic: 'awd_fwa.png',
    caption: 'FWA OF THE DAY × 6',
  },
  {
    id: 14,
    slug: 'awwwards',
    name: 'AWWWARDS',
    pic: 'awd_awwwards.png',
    caption: 'Nominated for<br> AGENCY OF THE YEAR 2017',
  },
  {
    id: 15,
    slug: 'cssda',
    name: 'CSS Design Awards',
    pic: 'awd_cssda.png',
    caption: 'Designer of the year<br> 2018 -<br> Top 10 Studios',
  },
]

const awards_sp = [
  {
    id: 1,
    slug: 'cannes',
    name: 'CANNES',
    pic: 'awd_cannes.png',
    caption: 'Gold',
  },
  {
    id: 2,
    slug: 'clio',
    name: 'THE CLIO AWARDS',
    pic: 'awd_clio.png',
    caption: 'Grand Prix',
  },
  {
    id: 3,
    slug: 'oneshow',
    name: 'THE ONE SHOW',
    pic: 'awd_oneshow.png',
    caption: 'Gold',
  },
  {
    id: 4,
    slug: 'dad',
    name: 'D&AD',
    pic: 'awd_dad.png',
    caption: 'Yellow Pencil',
  },
  {
    id: 5,
    slug: 'ny_festival',
    name: 'NEWYORK FESTIVALS',
    pic: 'awd_ny_festival.png',
    caption: 'BEST of SHOW',
  },
  {
    id: 6,
    slug: 'lia',
    name: 'Lia',
    pic: 'awd_lia.png',
    caption: 'Silver',
  },
  {
    id: 7,
    slug: 'oneasia',
    name: 'ONE ASIA',
    pic: 'awd_oneasia.png',
    caption: 'Grand prix',
  },
  {
    id: 8,
    slug: 'spikes',
    name: 'Spikes Asia',
    pic: 'awd_spikes.png',
    caption: 'Gold',
  },
  {
    id: 9,
    slug: 'adfest',
    name: 'ADFEST',
    pic: 'awd_adfest.png',
    caption: 'Silver',
  },
  {
    id: 10,
    slug: 'acc',
    name: 'ACC',
    pic: 'awd_acc.png',
    caption: 'Gold',
  },
  {
    id: 11,
    slug: 'mad',
    name: 'MAD STARS',
    pic: 'awd_mad.png',
    caption: 'Silver',
  },
  {
    id: 12,
    slug: 'webby',
    name: 'THE WEBBY AWARDS',
    pic: 'awd_webby.png',
    caption: 'Nominated × 3',
  },
  {
    id: 13,
    slug: 'awwwards',
    name: 'AWWWARDS',
    pic: 'awd_awwwards.png',
    caption: 'Nominated for AGENCY OF THE YEAR 2017',
  },
  {
    id: 14,
    slug: 'fwa',
    name: 'FWA',
    pic: 'awd_fwa.png',
    caption: 'FWA OF THE DAY × 6',
  },
  {
    id: 15,
    slug: 'cssda',
    name: 'CSS Design Awards',
    pic: 'awd_cssda.png',
    caption: 'Designer of the year 2018 - Top 10 Studios',
  },
]

const summary = [
  {
    slug: 'human_made',
    name: 'HUMAN MADE Inc.',
    year: '2024',
    awards: [
      {
        id: 1,
        caption: '相鐵60周年',
        content: '<p>アニバーサリー部門最優秀賞 - 第73回 日経広告賞</p>',
        pic: '/common/images/dummy/dummy_about_summary.png',
      },
      {
        id: 2,
        caption: 'HUMAN  MADE',
        content: '<p>FWA OF THE DAY - FWA</p><p>Special Kudos - CSS Design Awards</p><p>Honorable Mention - AWWWARDS</p><p>FWA OF THE DAY - FWA</p>',
        pic: 'https://dummyimage.com/440x246/606060/000000',
      },
      {
        id: 3,
        caption: 'Häagen-Dazs ICE CREAM FACTORY TOUR',
        content: '<p>FWA OF THE DAY - FWA</p><p>Special Kudos - CSS Design Awards</p><p>Honorable Mention - AWWWARDS</p><p>FWA OF THE DAY - FWA</p>',
        pic: 'https://dummyimage.com/440x246/606060/000000',
      },
    ],
  },
  {
    slug: 'human_made',
    name: 'HUMAN MADE Inc.',
    year: '2023',
    awards: [
      {
        id: 4,
        caption: 'PSY-CLONE',
        content: '<p>FWA OF THE DAY - FWA</p><p>WEBSITE OF THE DAY WEBSITE OF THE MONTH (nominated) - CSS Design Awards</p><p>Honorable Mention - AWWWARDS</p><p>Nominated in "Best Visual Design – Function" - The Webby Awards</p>',
        pic: 'https://dummyimage.com/440x246/606060/000000',
      },
      {
        id: 5,
        caption: 'kaonavi Town',
        content: '<p>FWA OF THE DAY - FWA</p><p>WEBSITE OF THE DAY WEBSITE OF THE MONTH (nominated) - CSS Design Awards</p><p>Honorable Mention - AWWWARDS</p><p>Honoree in "Best Visual Design – Function" Honoree in "Corporate Communications" - The Webby Awards</p>',
        pic: '/common/images/dummy/dummy_about_summary.png',
      },
    ],
  },
]
---

<section class="p-about-awards">
  <h2 class="p-about-awards__title">AWARDS</h2>

  <div class="p-about-awards__content">
    <!-- PC -->
    <ul class="p-about-awards__content-list" data-display="pc">
      {awards_pc.map((item => (
        <li class="p-about-awards__content-item">
          <AwardsItem
            id={item.id}
            name={item.name}
            slug={item.slug}
            pic={item.pic}
            caption={item.caption}
          />
        </li>
      )))}
    </ul>

    <!-- SP -->
     <ul class="p-about-awards__content-list" data-display="sp">
      {awards_sp.map((item => (
        <li class="p-about-awards__content-item">
          <AwardsItem
            id={item.id}
            name={item.name}
            slug={item.slug}
            pic={item.pic}
            caption={item.caption}
          />
        </li>
      )))}
    </ul>
  </div>

  <div class="p-about-awards__summary js-awards-summary-content">
    <!-- {summary.map((summary, index) => (
      <div class={`p-about-awards__summary-item ${index > 0 ? 'js-awards-hidden' : ''}`}>
        <Summary
          slug={summary.slug}
          name={summary.name}
          head={summary.year}
          awards={summary.awards}
        />
      </div>
    ))} -->
  </div>

  <div class="p-about-awards__more js-awards-more">
    <button class="p-about-awards__more-btn js-awards-more-btn">
      <span class="p-about-awards__more-text">VIEW ALL</span>
      <span class="p-about-awards__more-icon"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.52691 0.114V10.705C9.71691 9.413 11.5019 7.441 12.8279 6.047L14.1199 7.373L7.54091 14.241H7.48991L0.893906 7.373L2.23691 6.047C3.54591 7.441 5.33091 9.413 6.52091 10.705V0.114H8.52691Z" fill="white"/></svg></span>
    </button>
  </div>
</section>

<style lang="scss" is:global>
@use '../../../assets/scss/mediaquery' as me;
@use '../../../assets/scss/mixin' as mi;

.p-about-awards {
  position: relative;
  padding-block-end: calc(150px - 40px);
  @include me.pc {
    max-width: 1440px;
    margin-inline: auto;
    padding-inline: 30px;
  }
  @include me.sp {
    padding-inline: 20px;
    padding-block-end: 100px;
  }

  &__title {
    font-size: 3rem;
    font-weight: 600;
    line-height: 0.96;
    text-align: center;
    @include me.sp {
      font-size: 2.6rem;
      letter-spacing: -.02rem;
    }
  }

  &__content {
    margin-block-start: 60px;
    @include me.sp {
      margin-block-start: 30px;
    }

    &-list {
      @include me.pc {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        column-gap: 36.7px;
        row-gap: 40px;
        &[data-display="sp"] {
          display: none;
        }
      }
      @include me.sp {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        column-gap: 8px;
        row-gap: 20px;

        &[data-display="pc"] {
          display: none;
        }
      }
    }

    &-item {
      @include me.pc {
        max-width: 146px;
      }
    }
  }

  &__summary {
    position: relative;
    overflow: hidden;
    transition: max-height 0.6s ease-in-out;
    display: grid;
    row-gap: 40px;
    margin-block-start: 60px;
    padding-block-start: 40px;
    border-top: solid 1px var(--c-gray02);
    @include me.sp {
      row-gap: 30px;
      margin-block-start: 60px;
      padding-block-start: 30px;
    }

    &.is-collapsed {
      @include me.pc {
        max-height: 2639px;
      }
      @include me.sp {
        max-height: 3579px;
      }

      &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 150px;
        background: linear-gradient(to bottom,
          rgba(26, 26, 26, 0) 0%,
          rgba(26, 26, 26, 0.1) 20%,
          rgba(26, 26, 26, 0.3) 40%,
          rgba(26, 26, 26, 0.6) 70%,
          rgba(26, 26, 26, 1) 100%
        );
        pointer-events: none;
        z-index: 1;
      }
    }

    &:not(.is-collapsed) {
      max-height: none;

      &::after {
        display: none;
      }
    }

    &-item {
      transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
      border-bottom: solid 1px var(--c-gray02);
      &:last-child {
        border-bottom: unset;
      }

      &.js-awards-hidden {
        opacity: 0.5;
        pointer-events: none;
      }
    }
  }

  &__more {
    display: flex;
    justify-content: center;
    margin-block-start: 70px;
    @include me.sp {
      margin-block-start: 50px;
    }

    &.is-hidden {
      display: none;
    }

    &-btn {
      display: flex;
      align-items: center;
      column-gap: 11px;
      height: 34px;
      color: var(--c-white);
      font-size: 2.4rem;
      font-weight: 700;
      cursor: pointer;
      transition: opacity 0.3s ease-in-out;
      background: transparent;
      border: none;
      padding: 0;

      &:hover {
        opacity: 0.8;
      }
    }

    &-text {
      display: block;
      line-height: 1;
    }

    &-icon {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 15px;
      height: 24px;
      flex-shrink: 0;
    }
  }
}

.c-summary {
  position: relative;
  padding-block-end: 40px;
  @include me.pc {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
  }

  &__year {
    color: var(--c-gray02);
    font-size: 4.8rem;
    font-weight: 700;
    @include me.sp {
      font-size: 3.2rem;
    }
  }

  &__info {
    display: grid;
    row-gap: 40px;
    @include me.pc {
      width: 61.2318%;
    }
    @include me.sp {
      margin-block-start: 29px;
    }

    &-wrapper {
      display: grid;
      grid-template-columns: 203px 1fr;
      column-gap: 32px;
      @include me.sp {
        grid-template-columns: 41.7989% 1fr;
        column-gap: 22px;
      }
    }

    &-item {
      display: grid;
      grid-template-columns: 100%;
      row-gap: 24px;
      @include me.pc {
        border-bottom: solid 1px var(--c-gray02);
        padding-block-end: 24px;
        &:last-child {
          border-bottom-color: transparent;
        }
      }
    }

    &-caption {
      color: var(--c-white);
      font-size: 1.8rem;
      font-weight: 700;
      @include me.sp {
        font-size: 1.6rem;
      }

      a {
        color: var(--c-white);
        @include me.pc {
          &:hover {
            text-decoration: underline;
          }
        }
      }
    }

    &-content {
      display: grid;
      row-gap: 20px;

      a {
        color: var(--c-white);
        font-size: 1.4rem;
        text-decoration: underline;
        &:hover {
          text-decoration: none;
        }
      }
    }
    p {
      font-size: 1.4rem;
      line-height: 1.4;
    }
  }

  &__pic {
    figure {
      width: 100%;
      height: 100%;
    }
  }
}
</style>

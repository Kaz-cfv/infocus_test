---
interface Props {
  lang?: 'en' | 'ja'
}
const { lang = 'ja' } = Astro.props;
const currentUrl = lang === 'en' ? '/en/' : '/';

interface Props {
  prevProject?: {
    slug: string;
    title: string;
  } | null;
  nextProject?: {
    slug: string;
    title: string;
  } | null;
}

const { prevProject = null, nextProject = null } = Astro.props;
---

<nav class="p-project-detail__fixedNavi">
  <ul class="p-project-detail__fixedNavi-list">
    <li
      data-navi="prev"
      class={`p-project-detail__fixedNavi-item --first ${!prevProject ? '--disabled' : ''}`}
    >
      {prevProject ? (
        <a
          href={`${currentUrl}projects/${prevProject.slug}/`}
          title={prevProject.title}
        >
          Prev
        </a>
      ) : (
        <span>Prev</span>
      )}
    </li>
    <li data-navi="projects" class="p-project-detail__fixedNavi-item">
      <a href=`${currentUrl}projects`>All Projects</a>
    </li>
    <li
      data-navi="next"
      class={`p-project-detail__fixedNavi-item --last ${!nextProject ? '--disabled' : ''}`}
    >
      {nextProject ? (
        <a
          href={`${currentUrl}projects/${nextProject.slug}/`}
          title={nextProject.title}
        >
          Next
        </a>
      ) : (
        <span>Next</span>
      )}
    </li>
  </ul>
</nav>

<style lang="scss">
@use '../../../assets/scss/mediaquery' as me;
@use '../../../assets/scss/mixin' as mi;

.p-project-detail__fixedNavi {

  &-list {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    border-top: solid 1px var(--c-gray);
    border-bottom: solid 1px var(--c-gray);
  }

  &-item {
    height: 50px;
    &:last-child a {
      &::after {
        background-color: transparent;
      }
    }
    // 無効状態のスタイル
    &.--disabled {
      a, span {
        pointer-events: none;
        opacity: 0.5;
        color: var(--c-gray) !important;
      }
    }

    a, span {
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      width: 100%;
      height: 100%;
      color: var(--c-white);
      font-size: 1.4rem;
      font-weight: 600;
      transition: color .3s var(--ease-out-quad);

      &::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 1px;
        height: 100%;
        background-color: var(--c-gray);
      }
    }

    // ホバー効果（有効な場合のみ）
    &:not(.--disabled) a {
      transition: background-color .3s var(--ease-out-quad);

      &:hover {
        background-color: var(--c-white);
        color: var(--c-black-base);
      }
    }
  }

}

</style>

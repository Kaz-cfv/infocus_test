---
import Layout from '@layouts/Layout.astro';
import Head from '@components/team/section/Head.astro'
import Content from '@components/team/section/Content.astro';
import Partners from '@components/team/section/Partners.astro';

const pageMeta = {
  title: "TEAM",
};

const API_ENDPOINT = 'https://infocus.wp.site-prev2.com/wp-json/wp/v2/team?lang=ja&per_page=100&orderby=menu_order&order=asc';

let teamMembers = [];

try {
  const response = await fetch(API_ENDPOINT);
  if (response.ok) {
    teamMembers = await response.json();
  }
} catch (error) {
  console.error('Failed to fetch team members:', error);
}

console.log(teamMembers);
---

<Layout
  title=""
  pageName="team"
  meta={pageMeta}
>

<Head />
<Content teamMembers={teamMembers} />
<Partners />

</Layout>

<style lang="scss" is:global>
@use '../../assets/scss/mediaquery' as me;
@use '../../assets/scss/mixin' as mi;


</style>

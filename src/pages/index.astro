---
import Layout from '../layouts/Layout.astro';
import Kv from '../components/home/sections/Kv.astro';
import Intro from '../components/home/sections/Intro.astro';
import Projects from '../components/home/sections/Projects.astro';
import Asides from '../components/home/sections/Asides.astro';

const pageMeta = {
  title: "HOME",
  ogpType: "website"
};
---

<Layout
  title=""
  pageName="home"
  meta={pageMeta}
>

<Kv />
<Intro />
<Projects />
<Asides />

</Layout>

<!-- é–‹ç™ºæ™‚ã®ãƒ‡ãƒãƒƒã‚°ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
<script>
  // ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆé–‹ç™ºç’°å¢ƒã§ã®ãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
  import { HomeDataDebugger } from '../assets/js/utils/homeDataDebugger.js';

  // DOMContentLoadedå¾Œã«ãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œ
  document.addEventListener('DOMContentLoaded', async () => {
    // ãƒ‡ãƒãƒƒã‚°å®Ÿè¡Œï¼ˆç’°å¢ƒå•ã‚ãšï¼‰
    try {
      // console.log('ğŸ” Current environment mode:', import.meta.env.MODE);

      // é™çš„JSONãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿æ¤œè¨¼
      const response = await fetch('https://infocus.wp.site-prev2.com/api/home.json');

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const jsonData = await response.json();
      console.log('âœ… Static JSON file loaded successfully:');
      console.log(jsonData);

      // ãƒ›ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›
      // await HomeDataDebugger.fetchAndDebugHomeData();

      // ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°ã¨ã—ã¦åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹
      // console.log('ğŸ’¡ Debug functions available:');
      // console.log('- debugHomeData() - å…¨ãƒ‡ãƒ¼ã‚¿ã‚’å‡ºåŠ›');
      // console.log('- debugHomeSection("heros") - ãƒ’ãƒ¼ãƒ­ãƒ¼å‹•ç”»ã®ã¿');
      // console.log('- debugHomeSection("categories") - ã‚«ãƒ†ã‚´ãƒªã®ã¿');
      // console.log('- debugHomeSection("pickup") - ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ã¿');
      // console.log('- debugHomeSection("banners") - ãƒãƒŠãƒ¼ã®ã¿');

    } catch (error) {
      console.error('ğŸš¨ Failed to load static JSON file:', error);
      console.error('ğŸ” Error details:', {
        name: error.name,
        message: error.message,
        status: error.status || 'N/A'
      });
    }
  });
</script>

<style lang="scss" is:global>
@use '../assets/scss/mediaquery' as me;
@use '../assets/scss/mixin' as mi;

</style>
